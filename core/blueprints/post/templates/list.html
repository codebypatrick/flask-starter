{% extends 'layout.html' %}

{% block content %}
	<div class="card">
		<header class="card-header">
				<p class="card-header-title">Posts</p>
		</header>
		<div class="card-table">
			<div class="content">
				<table class="table is-fullwidth is-striped">
					<thead>
						<th>Title</th>
						<th>Modified</th>
						<th></th>
						<th></th>
					</thead>
					<tbody>
						{% for post in posts %}
						<tr>
							<td>{{post.title}} </td>
							<td>{{post.body | truncate(20)}}</td>
							<td width="5%">
								<a class="button is-small is-info" 
								   href="{{url_for('post.update', post_id=post.id)}}">Edit</a>
							</td>
							<td width="5%">
								<form 
									action="{{ url_for('post.delete', post_id=post.id)}}"
									method="post">
									<input type="hidden" name="post_id" value="{{post.id}}">
									<button class="button is-small is-danger" href="">Delete</button>
								</form>
							</td>
						</tr>
						{% endfor %}
					</tbody>
				</table>

			</div>
		</div>
	</div>
{% endblock %}

